<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="main_tree">
    <KeepRunningUntilFailure>
      <CalculateAttackPose costmap_port="{@nav_globalCostmap}"
                           tracker_port="{@tracker_target}"
                           goal="{attack_pose}"
                           topic_name="__default__placeholder__"/>
    </KeepRunningUntilFailure>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Condition ID="CalculateAttackPose">
      <input_port name="costmap_port"
                  default="{@nav_globalCostmap}"
                  type="nav_msgs::msg::OccupancyGrid_&lt;std::allocator&lt;void&gt; &gt;">GlobalCostmap port on blackboard</input_port>
      <input_port name="tracker_port"
                  default="{@tracker_target}"
                  type="auto_aim_interfaces::msg::Target_&lt;std::allocator&lt;void&gt; &gt;">Vision target port on blackboard</input_port>
      <output_port name="goal"
                   default="{attack_pose}"
                   type="geometry_msgs::msg::PoseStamped_&lt;std::allocator&lt;void&gt; &gt;">Expected goal pose that send to nav2. Fill with format `x;y;yaw`</output_port>
      <input_port name="topic_name"
                  default="__default__placeholder__"
                  type="std::string">Topic name</input_port>
    </Condition>
  </TreeNodesModel>

</root>
